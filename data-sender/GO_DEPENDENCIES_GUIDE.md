# Go依存関係管理ガイド\n\n## 基本的なコマンド\n\n### パッケージの追加\n```bash\n# 依存関係を追加（自動的にgo.modを更新）\ngo get github.com/joho/godotenv\n\n# 特定のバージョンを指定\ngo get github.com/joho/godotenv@v1.5.1\n\n# 最新バージョンを取得\ngo get -u github.com/joho/godotenv\n```\n\n### パッケージの削除\n```bash\n# 使用されていない依存関係を削除\ngo mod tidy\n\n# 特定のパッケージを削除（コードから削除後）\ngo mod tidy\n```\n\n### 依存関係の管理\n```bash\n# 依存関係をダウンロード\ngo mod download\n\n# 依存関係の確認\ngo list -m all\n\n# go.modとgo.sumを整理\ngo mod tidy\n\n# vendorディレクトリに依存関係をコピー\ngo mod vendor\n```\n\n### 依存関係の更新\n```bash\n# すべての依存関係を最新に更新\ngo get -u ./...\n\n# 特定のパッケージのみ更新\ngo get -u github.com/joho/godotenv\n\n# パッチバージョンのみ更新\ngo get -u=patch ./...\n```\n\n## npm/yarnとの比較\n\n| 操作 | npm/yarn | Go |\n|------|----------|----|\n| 依存関係追加 | `npm install package` | `go get package` |\n| バージョン指定 | `npm install package@1.0.0` | `go get package@v1.0.0` |\n| 依存関係更新 | `npm update` | `go get -u ./...` |\n| 不要な依存関係削除 | `npm prune` | `go mod tidy` |\n| 依存関係ダウンロード | `npm install` | `go mod download` |\n| 依存関係一覧 | `npm list` | `go list -m all` |\n\n## go.modファイルの構造\n\n```\nmodule roi-agent-data-sender  // モジュール名\n\ngo 1.21                       // Go バージョン\n\nrequire (                     // 直接的な依存関係\n    github.com/joho/godotenv v1.5.1\n)\n\nrequire (                     // 間接的な依存関係（自動生成）\n    github.com/some/package v1.0.0 // indirect\n)\n\nreplace (                     // ローカル置換（開発時）\n    github.com/local/package => ./local/path\n)\n\nexclude (                     // 除外するバージョン\n    github.com/bad/package v1.0.0\n)\n```\n\n## 環境変数の使用方法\n\n### 1. .envファイルを作成\n```bash\n# .envファイルを作成\ncp .env.example .env\n\n# 実際の値を設定\nvim .env\n```\n\n### 2. 環境変数で設定\n```bash\n# 環境変数で設定\nexport ROI_AGENT_BASE_URL=\"https://api.yourserver.com/v1/roi-agent\"\nexport ROI_AGENT_API_KEY=\"your-actual-api-key\"\nexport ROI_AGENT_ENABLED=\"true\"\n\n# アプリケーション実行\n./data-sender process\n```\n\n### 3. 設定の優先順位\n1. コマンドライン引数\n2. 設定ファイル（transmission_config.json）\n3. 環境変数\n4. .envファイル\n5. デフォルト値\n\n## ベストプラクティス\n\n1. **go.modは自動生成を活用**: `go get`コマンドで自動更新\n2. **go mod tidyを定期実行**: 不要な依存関係を削除\n3. **環境変数で機密情報**: APIキーなどは環境変数で管理\n4. **.envファイルをgitignore**: 機密情報の誤コミットを防止\n5. **バージョンピン**: 本番環境では特定バージョンを指定\n