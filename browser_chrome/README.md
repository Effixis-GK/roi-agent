# Chrome Browser Access Tool

MacbookのChromeブラウザからアクセス情報を取得するGo言語のツールです。

## 機能

- Chromeのブラウジング履歴の取得
- 最もアクセス頻度の高いドメインの統計表示
- SQLiteデータベースから安全にデータを読み取り

## 前提条件

- Go 1.21以上
- MacOS
- Google Chrome がインストールされている

## インストールと実行

1. 依存関係をインストール:
```bash
go mod tidy
```

2. プログラムを実行:
```bash
go run main.go
```

## 使用方法

プログラムを実行すると、以下の情報が表示されます：

1. **最新のブラウジング履歴** (デフォルト20件)
   - URL
   - ページタイトル
   - 訪問回数
   - 最終訪問日時

2. **最もアクセス頻度の高いドメイン** (デフォルト10件)
   - ドメイン名
   - 総訪問回数
   - URL数

## セキュリティについて

- このツールはChromeの履歴データベースファイルを読み取り専用でアクセスします
- データベースファイルは一時的にコピーされ、読み取り後に削除されます
- Chromeが実行中でもデータベースにロックが掛かっているため、コピーを作成してアクセスします

## カスタマイズ

`main.go`の以下の部分を変更することで、取得する件数を調整できます：

```go
// 履歴の取得件数を変更
history, err := reader.GetHistory(50) // 20から50に変更

// トップドメインの取得件数を変更
domains, err := reader.GetTopDomains(20) // 10から20に変更
```

## 注意事項

- ChromeのHistoryファイルへのアクセス権限が必要です
- macOSのセキュリティ設定によっては、初回実行時に権限の許可が必要な場合があります
- Chromeが起動していても正常に動作しますが、最新のデータを取得するにはChromeを一度閉じることを推奨します

## トラブルシューティング

### "Chrome history file not found" エラー
- Chromeがインストールされているか確認してください
- Chromeを少なくとも一度起動して、履歴ファイルが作成されているか確認してください

### データベースアクセスエラー
- macOSのセキュリティ設定で、ターミナル（またはIDEのプロセス）にファイルアクセス権限が付与されているか確認してください
- Chromeを完全に終了してから再試行してください
